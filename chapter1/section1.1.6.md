## Canny边缘检测
Canny边缘检测算法是John F.Canny于1986年开发出来的一个边缘检测算法。边缘检测的目的是只是图像中物体的边界。

Canny边缘检测的基本原理就是通过计算图像中各个像素点的梯度，并将梯度值作为像素值，从而有助于发现图像的边缘，以及进一步更容易根据形状检测对象。

接下来，我们首先看一下openCV中Canny边缘检测函数的输入参数：

```
edges = cv2.Canny(gray, low_threshold, high_threshold)
```
在这个函数中，我们将Canny算法用于gray的灰度图像中，并将处理后的图像输出给一个edges变量。上、下阈值决定了边缘被检测得到所需要满足的强度。其中，强度的定义时图像中相邻像素之间的差异程度（这就是所说的梯度）。

接下来，我们通过一个例子来演示一下Canny边缘检测的功能。
下图是一个灰度图像，其中图像中有明亮的部分、暗淡的部分以及亮度快速变化的部分。
![灰度图像](/assets/8.jpg)

整个图像可以看作是一个在二维坐标系下的关于x和y的数学函数：
![二元函数](/assets/9.jpg)
因此，我们可以对这个图像进行一些数学运算。

例如，我们可以对每个像素点的值进行求导：

$$
\frac{df}{dx} = \Delta(pixel\_value)
$$

当导数值越大时，说明图像中在该像素点的颜色变换越明显，反之则说明变化越不明显。由于图像是二维的，因此，我们在计算导数时可以同时计算关于x和y的导数。对于计算导数后得到的图像，我们称之为**梯度图像**。

通过基本的梯度计算，我们可以得到较厚的边缘线。而Canny算法可以帮助我们把边缘线变得更细。此外，我们还可以在调用Canny算法时，选择更小的下限阈值，有助于连接这些较强的边缘。

Ps：在图像处理中，图像的左上角是坐标原点(0,0)。y值向下增加，x值向右增加。

下面，我们来看一个例子，下图是计算了图像中一个横截面的梯度变化曲线图，其中红线显示了我在图像中的横截面。蓝线中的摆动表示图像中沿该横截面的颜色强度变化。你认为哪些点最有可能是物体边缘呢？
![强度线](/assets/10.jpg)
