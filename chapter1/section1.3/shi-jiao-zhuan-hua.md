## 透视变换

### 车道线的曲率
现在，我们已经学习了如何进行图像校准，下面，我们将要学习的是如何去感知和计算车道线的曲率。车道线的曲率计算对于无人驾驶汽车而言至关重要，无人驾驶汽车需要根据车道线的曲率来判断转向角的大小，从而才能进行左拐或右拐。

实际上，我们通过汽车行驶的速度以及车道的弯曲程度，就可以轻松的计算出转向角的大小。因此，我们将在本节中学习如何计算车道线的曲率。

计算车道线的曲率的步骤简述如下：

Step1：使用感兴趣区域提取和阈值化等技术来检测出车道线。
![Step1](/assets/43.jpg)

Step2：通过透视变换获得车道的俯视图。
![Step2](/assets/44.jpg)

Step3：通过多项式拟合来找出车道线的表示方式
Step4：根据拟合的多项式获得车道线的曲率
![Step4](/assets/45.jpg)

### 透视变换原理

透视变换是图像成像中一个现象。
例如：
1. 物理距离观察点越远，则看起来越小。反之，物体距离观察点越近，则看起来越大。
2. 平行的直线在远处似乎会汇聚到同一个点上。

换做数学的表达方式来讲，当我们将真实世界看作三维坐标，z轴可以表示物体距离观察点的远近。当z值越大，即物理距离我们越远，看起来就越小。

透视变换就是通过改变z轴的坐标，从而改变了对象的二维图像表示，通过改变观察视角来改变图像的二维表示。

如下图所示，变换前：
![变换前](/assets/46.jpg)
变换后：
![变换后](/assets/47.jpg)

例如，我们希望对公路图像进行透视变换时，我们可以放大图像中距离较远的物体，如下图所示：
![透视变换](/assets/48.jpg)
透视变换一个非常有用的工具，在某些任务中（例如车道线曲率计算）通过上帝视角（鸟瞰图）更加容易进行。

透视变换的处理过程与图像校准类似，唯一的区别在于：图像校准是将扭曲点映射到真实物体对应点；而透视变换则是将给定图像点映射到新视角下的图像点。

![映射关系](/assets/49.jpg)

**Question**：对于从汽车前置摄像头拍摄的道路图像，我们为什么希望进行透视变换？
A. 鸟瞰图更容易计算梯度
B. **鸟瞰图有助于我们衡量车道线的曲率**
C. 透视变换有助于消除我们测量过程中引入的弯曲误差
D. 透视变换有助于消除道路颜色、阴影差异


### 透视变换实战






