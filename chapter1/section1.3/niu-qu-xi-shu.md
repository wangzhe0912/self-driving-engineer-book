![](/assets/34.jpg)## 图像校准

图像失真是指由于摄像机误差导致拍摄出来的图像与真实世界存在一定的扭曲、尤其是在边缘附近则更加明显，可能会存在不同程度的拉伸或倾斜。而**图像校准**则是表示通过一系列方法，将将摄像机得到的失真图像恢复。

图像失真往往是由于摄像头将真实三维世界拍摄为二维平面图像时引用的偏差。

例如，上图为原始真实世界的场景，下方的三幅图像表示由不同的摄像头拍摄后得到的一些轻微失真的图像。
![失真图像](/assets/33.jpg)

在这些失真的图像中，我们可以看到车道线的边缘发生了一定程度的扭曲，从原来的直线变为了带有一个弧度的曲线。同时，图像的失真在一定程度上也改变了物体的形状和大小。这对于我们期望精确定位无人车的位置以及识别车道线和障碍物都带来了较大的影响。因此，接下来，我们将要解决的问题就是消除这种图像失真，即**图像校准**。

Question：图像失真会带来哪些影响？

1. 改变图像中物体的形状。
2. 改变图像中物体的大小。
3. 改变图像中物体距离我们位置的远近。
4. 导致观察到的图像中的物体外型依赖于拍摄的视角。

### 针孔照相机模型

在开始学习图像校准之前，我们首先来看下图像的失真是如何发生的。下图是一个针孔照相机的基本模型：
![针孔照相机](/assets/34.jpg)
其观察世界的方式与人眼类似，即通过聚焦物体反射的光呈现得到的。
对于一个真实世界中的三维物体，通过映射后变为了一个二维平面图像，这个转换是通过一个转换矩阵完成的，我们称之为相机矩阵。

对于真实照相机而言，其使用的并不是针孔，而是镜头。光线经过镜头时，会产生一定幅度的弯曲，从而导致我们之前所观察到的图像扭曲。这种失真称之为**径向失真**，也是最常见的失真类型。

另外一种失真类型我们称之为**切向畸变**。当摄像机镜头与摄像机胶片或传感器所在的成像平面不平行时，会导致所谓的切向畸变。此时，会导致物理看起来比真实情况显得更近或更远。如下图所示：

![切向畸变](/assets/36.jpg)

幸运的是，为了消除镜头的径向失真和切向畸变，我们仅仅需要确定该照相机的如下5个系数即可：$$k_1, k_2, k_3, p_1, p_2$$
















