## 项目指引

在本项目中，我们将要利用本章学习的全部技术来完成车道线的识别和跟踪的任务。

### 摄像头校准

在实战项目中，我们使用的棋盘校准图像是9*6的大小，这与之前的章节中用到的棋盘并不完全一致。

### 曲率半径

在本项目中，我们需要计算车道的曲率半径（单位是米，而不是像素）。
下图是来自Google地图的图片，其中包含项目视频的制作地点（位于Udacity办公室的西北部！）。在这里，我画了一个圆圈，与项目视频中的第一条左曲线重合。这是一个非常粗略的估计，该圆的半径约为1km。这个数字可以用于粗略的估计你在项目中所计算得到的曲率半径是否正确。

![](/assets/89.jpg)

### 车辆偏移量

在本项目中，我们同时期望计算出当前车道与车道线中心的偏离的距离。此时，我们可以假设摄像机安装在汽车的中央，这样车道中心就是您检测到的两条线路之间图像底部的中点。车道中心距图像中心的偏移（从像素转换为米）是距离车道中心的距离。

### 车道线追踪

当我们将处理流程应用于视频流处理后，我们希望借助之前找到的车道线应用后续视频中的车道线定位。此时，推荐可以定义一个Line类用于追踪车道线相关的参数。我们可以针对左右车道线分别创建Line对象，并进行车道线跟踪和正确性验证。

```python
class Line():
    def __init__(self):
        # 在上次迭代中是否正常检测到车道线
        self.detected = False  
        # 最近几次检测中的x值
        self.recent_xfitted = [] 
        # 最近几次检测中的x平均值
        self.bestx = None     
        # 最近几次检测中多项式拟合的平均值
        self.best_fit = None  
        # 最近几次检测中多项式拟合的值
        self.current_fit = [np.array([False])]  
        # 曲率半径
        self.radius_of_curvature = None 
        # 车辆偏移距离
        self.line_base_pos = None
        # 两次拟合系数之间的差异
        self.diffs = np.array([0,0,0], dtype='float') 
        # 车道线的x坐标
        self.allx = None  
        # 车道线的y坐标
        self.ally = None  
```

















